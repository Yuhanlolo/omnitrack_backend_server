<div class="container">
  <div *ngIf="!participants || participants.length === 0" class="page-info-message">
    No participants in the experiment.
  </div>
  <div *ngIf="participants && participants.length > 0" class="card card-main">
    <div class="card-header">
      <mat-form-field class="mat-form-no-vertical-padding">
        <mat-select [(value)]="selectedParticipantId" required="true" (selectionChange)="onParticipantSelectionChanged($event)">
          <mat-option *ngFor="let participant of participants" [value]="participant._id">{{participant.alias}}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <mat-tab-group class="tab-group" [(position)] = "selectedTrackerIndex" (selectedTabChange)="onTrackerTabChanged($event)">
      <mat-tab *ngFor="let tracker of userTrackers" [label] = "tracker.name" [value] = "tracker._id">
        <table class="table table-data" *ngIf="selectedTracker">
          <thead>
            <th *ngFor="let attr of selectedTracker.attributes">
              {{attr.name}}
            </th>
            <th class="header-timestamp">Logged At</th>
          </thead>
          <tbody>
            <tr class="hoverable singleline" *ngFor="let item of trackerItems">
              <td *ngFor="let attr of selectedTracker.attributes">
                <span *ngIf="getItemValue(item, attr)">{{getItemValue(item, attr)}}</span>
              </td>
              <td class="cell-timestamp">{{item.timestamp | date: 'short'}}</td>
            </tr>
          </tbody>
        </table>
      </mat-tab>
    </mat-tab-group>
  </div>
</div>